define(["angular"],function(e){e.module("am.service",[]).service("amService",["$q","$http",function(e,a){return{get:function(){var t=e.defer();return a.get("/status/message").then(function(e){window.DOMParser?(parser=new DOMParser,xmlDoc=parser.parseFromString(e.data,"text/xml")):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async=!1,xmlDoc.loadXML(e.data)),appMessageContainer=xmlDoc.getElementsByTagName("app_message");var a="",s=appMessageContainer[0].getAttribute("status");switch(s){case"ok":a="ok";break;case"message":a="info";break;case"maintenance":a="warning";break;case"application_error":a="danger";break;default:a=s}var r="";"ok"!=a&&(r=appMessageContainer[0].getElementsByTagName("status_text")[0].childNodes[0].nodeValue),t.resolve({msg:r,status:a})}),t.promise}}}])});