{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e4938a4826466a7b2c73","webpack:///./src/index.ts","webpack:///./src/niwa-application-messages.module.ts","webpack:///external \"@angular/core\"","webpack:///external \"@angular/forms\"","webpack:///external \"@angular/common\"","webpack:///external \"@angular/http\"","webpack:///./src/niwa-application-messages.component.ts","webpack:///./src/message.ts","webpack:///./src/niwa-application-messages.service.ts","webpack:///external \"rxjs/Rx\""],"names":[],"mappings":"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","file":"niwa-application-messages.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"@angular/forms\"), require(\"@angular/common\"), require(\"@angular/http\"), require(\"rxjs/Rx\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"@angular/forms\", \"@angular/common\", \"@angular/http\", \"rxjs/Rx\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"niwa-application-messages\"] = factory(require(\"@angular/core\"), require(\"@angular/forms\"), require(\"@angular/common\"), require(\"@angular/http\"), require(\"rxjs/Rx\"));\n\telse\n\t\troot[\"niwa-application-messages\"] = factory(root[\"@angular/core\"], root[\"@angular/forms\"], root[\"@angular/common\"], root[\"@angular/http\"], root[\"rxjs/Rx\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_9__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e4938a4826466a7b2c73","import {NiwaApplicationMessagesModule} from './niwa-application-messages.module';\nimport {NiwaApplicationMessagesComponent} from './niwa-application-messages.component';\nimport {NiwaApplicationMessagesService} from './niwa-application-messages.service';\n\nexport {\n    NiwaApplicationMessagesModule,\n    NiwaApplicationMessagesComponent,\n    NiwaApplicationMessagesService\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/index.ts","import { NgModule } from '@angular/core';\nimport { FormsModule } from \"@angular/forms\";\nimport { CommonModule  } from '@angular/common';\nimport {HttpModule} from '@angular/http';\n\n\nimport {NiwaApplicationMessagesComponent} from './niwa-application-messages.component'\n\n@NgModule({\n  imports: [ CommonModule, FormsModule , HttpModule],\n  declarations: [NiwaApplicationMessagesComponent],\n  exports:  [NiwaApplicationMessagesComponent],\n  entryComponents: [],\n  providers: []\n})\nexport class NiwaApplicationMessagesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/niwa-application-messages.module.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/core\"\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/forms\"\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/common\"\n// module id = 4\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/http\"\n// module id = 5\n// module chunks = 0","import {Component} from '@angular/core';\nimport {Message} from './message';\nimport {NiwaApplicationMessagesService} from './niwa-application-messages.service';\n\n@Component({\n    selector: 'niwa-application-messages',\n    providers: [NiwaApplicationMessagesService],\n    template: `\n<div class=\"col-md-12\" *ngIf=\"showMessage()\">\n    <div class=\"panel\">\n        <div class=\"panel-heading bg-{{message.cssClass}}\">\n            <span class=\"glyphicon glyphicon{{message.icon}}\"> </span>\n            {{message.text}}\n        </div>\n    </div>\n</div>\n\n`\n})\nexport class NiwaApplicationMessagesComponent {\n\n\n    message = new Message('ok', \"\");\n    error:any;\n\n    constructor(private appMessagesService:NiwaApplicationMessagesService) {\n    }\n\n    ngOnInit() {\n\n        this.appMessagesService.getMessage().subscribe(\n            (message:Message)=> {\n                this.message = message;\n            },\n            error => {\n                this.error = error;\n                console.log(this.error);\n            }\n        )\n    }\n\n    showMessage(){\n        return (this.message !== null && this.message.status != 'ok')\n    }\n    \n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/niwa-application-messages.component.ts","export class Message {\n    status: string;\n    text: string;\n    cssClass: string;\n    icon : string;\n\n    constructor(status: string, text: string) {\n        this.text = text;\n        this.status = status;\n\n        switch(this.status) {\n\n            case 'ok':\n                this.cssClass = 'ok';\n                this.icon = '-ok-sign';\n                break;\n            case 'message':\n                this.cssClass = 'info';\n                this.icon = '-info-sign';\n                break;\n            case 'maintenance':\n                this.cssClass = 'warning';\n                this.icon = '-wrench';\n                break;\n            case 'error':\n                this.cssClass = 'danger';\n                this.icon = '-warning-sign';\n                break;\n            default:\n                this.cssClass = this.status;\n                this.icon = '';\n                break;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/message.ts","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs/Rx';\nimport {Response, Http} from '@angular/http';\nimport {Message} from './message';\n\n\n@Injectable()\nexport class NiwaApplicationMessagesService {\n    private baseUrl:string;\n\n    constructor(private http: Http) {\n        this.baseUrl = '/status/message';\n    }\n\n    public getMessage():Observable<any> {\n        return this.http.get(this.baseUrl)\n            .map(this.mapResponse)\n            .catch(this.handleError);\n    }\n\n\n    private handleError(error:any) {\n        return Observable.throw(error || 'Server Error');\n    }\n\n    private mapResponse(res:Response):any {\n        let xml = res.text();\n        var oParser = new DOMParser();\n        var xmlDoc = oParser.parseFromString(xml, \"text/xml\");\n\n        let appMessageContainer = xmlDoc.getElementsByTagName(\"app_message\");\n        var appstatus = appMessageContainer[0].getAttribute('status');\n        var text = appMessageContainer[0].getElementsByTagName(\"status_text\")[0].childNodes[0].nodeValue;\n\n\n        let message = new Message(appstatus, text);\n\n        return message;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/niwa-application-messages.service.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Rx\"\n// module id = 9\n// module chunks = 0"],"sourceRoot":""}